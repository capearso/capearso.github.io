function debounce(t,e,i){var n;return function(){var o=this,s=arguments,r=function(){n=null,i||t.apply(o,s)},l=i&&!n;clearTimeout(n),n=setTimeout(r,e),l&&t.apply(o,s)}}function backToTop(t){if(0!==$("h2").length){var e=$(document).height()/4;$(window).scroll((function(){$(this).scrollTop()>e?btt.show():btt.hide()})),btt.click((function(){$("html, body").animate({scrollTop:0},"fast",(function(){$(this).finish()}))}))}}function draw(){sb.toggle("slide",{direction:"left"},"fast"),overlay(),toggle()}function overlay(){"hidden"===ol.css("visibility")?(ol.css({visibility:"visible",opacity:0}).animate({opacity:1},"fast"),ol.on("click",(function(){draw()})),b.css("overflow-y","hidden"),document.body.addEventListener("touchmove",noScroll,{passive:!1})):(ol.css({visibility:"hidden",opacity:1}).animate({opacity:0},"fast"),ol.off("click"),b.css("overflow-y","auto"),document.body.removeEventListener("touchmove",noScroll,{passive:!1}))}function noScroll(t){t.preventDefault(),t.stopPropagation()}function toggle(){var t="fa-ellipsis-",e="fas "+n,i=t+"h",n=t+"v";ic.attr("class")===e?ic.toggleClass(n+" "+i):ic.toggleClass(i+" "+n)}var btt=$(".back-to-top"),sb=$(".sidebar"),mn=$(".menu"),btn=$(".btn"),ph=$(".post-header"),fi=$(".feature-image"),no=$(".notice"),ol=$(".overlay"),b=$("body"),ic=mn.find("i");$(document).ready((function(){if($(".emoji").each((function(){let t=$(this);t.addClass("lazyload"),t.attr("data-src",t.attr("src")).removeAttr("src")})),location.href.match(/\/search\/?/)){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px"),isMobile=!0;let e=document.querySelector.bind(document),i=(e("#page"),e("#exit")),n=e(".page-header"),o=e(".sidebar"),s=e("#search-input"),r=e("#results-container"),l=e("#clear-search"),a=e(".menu"),c=e(".content");l.addEventListener("click",(function(t){for(s.focus(),s.value="",l.setAttribute("style","display: none !important;"),result=r.lastElementChild;result;)try{r.removeChild(result),result=r.lastElementChild}catch(t){break}})),i.addEventListener("click",(function(t){if(isMobile){let i=e("footer"),u=e(".loaded");u&&(document.body.prepend(o),document.body.prepend(a),n.removeAttribute("style"),i.removeAttribute("style"),u.removeAttribute("style"),s.blur(),t.target.style="",l.setAttribute("style","display: none !important;"),c.removeAttribute("style")),s.value&&r.setAttribute("style","display: none !important;")}})),s.addEventListener("focus",(function(t){if(isMobile){let t=e("footer"),u=e(".loaded");u&&($("html, body").animate({scrollTop:0},"fast",(function(){$(this).finish()})),u.setAttribute("style","display: none !important;"),t.setAttribute("style","display: none !important;"),n.setAttribute("style","display: none !important;"),e(".menu")&&document.body.removeChild(a),e(".sidebar")&&document.body.removeChild(o),i.style="min-height: 10vh; min-height: calc(var(--vh, 1vh) * 100);",c.setAttribute("style","height: 100vh; height: calc(var(--vh, 1vh) * 100);"),s.value&&(l.removeAttribute("style"),r.removeAttribute("style")))}})),s.addEventListener("input",(function(t){t.target.value?l.removeAttribute("style"):l.setAttribute("style","display: none !important;")}))}$(".image-popup").each((function(){var t=$(this).children().attr("src");$(this).attr("href",t)})),$(".image-popup").css("cursor","zoom-in"),$(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0,titleSrc:function(t){var e=t.el.attr("title");if(void 0!==e)return"<span style='font-size: 0.777777778rem'>"+e+"</span>"}},zoom:{enabled:!0,duration:300}}),$("img[usemap]").rwdImageMaps(),backToTop($(window).width()),mn.click((function(){draw()})),$("#results-container").on("DOMNodeInserted","li",(function(t){var e=$("#results-container li"),i=e.length,n=0,o=0;$("#search-input").on("keydown",(function(t){38!=t.keyCode&&40!=t.keyCode||t.preventDefault()})),$("#search-input").on("keyup",(function(t){var s=t.which;40==s?(1==++o&&0===n||(n++,n%=i),e.eq(n).css("background","#eee").siblings().removeAttr("style")):38==s?(-1==--n&&(n=i-1),e.eq(n).css("background","#eee").siblings().removeAttr("style")):13==s&&e.eq(n).children().get(0).click()})),$("#results-container li").on("mouseover",(function(t){$(this).css("cursor","pointer"),$(this).css("background","#eee").siblings().removeAttr("style"),n=$(this).index(),o++})),$("#results-container li").on("click",(function(t){$(this).children().get(0).click()}))}))})),$(window).resize(debounce((function(){let t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px"),backToTop($(window).width()),"none"==sb.css("display")&&sb.removeAttr("style")}),500));