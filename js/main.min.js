function debounce(e,t,i){var n;return function(){var o=this,s=arguments,l=function(){n=null,i||e.apply(o,s)},r=i&&!n;clearTimeout(n),n=setTimeout(l,t),r&&e.apply(o,s)}}function backToTop(e){if(0!==$("h2").length){var t=$(document).height()/4;$(window).scroll((function(){$(this).scrollTop()>t?btt.show():btt.hide()})),btt.click((function(){$("html, body").animate({scrollTop:0},"fast",(function(){$(this).finish()}))}))}}function draw(){sb.toggle("slide",{direction:"left"},"fast"),overlay(),toggle()}function overlay(){"hidden"===ol.css("visibility")?(ol.css({visibility:"visible",opacity:0}).animate({opacity:1},"fast"),ol.on("click",(function(){draw()})),b.css("overflow-y","hidden"),document.body.addEventListener("touchmove",noScroll,{passive:!1})):(ol.css({visibility:"hidden",opacity:1}).animate({opacity:0},"fast"),ol.off("click"),b.css("overflow-y","auto"),document.body.removeEventListener("touchmove",noScroll,{passive:!1}))}function noScroll(e){e.preventDefault(),e.stopPropagation()}function toggle(){var e="fa-ellipsis-",t="fas "+n,i=e+"h",n=e+"v";ic.attr("class")===t?ic.toggleClass(n+" "+i):ic.toggleClass(i+" "+n)}var btt=$(".back-to-top"),sb=$(".sidebar"),mn=$(".menu"),btn=$(".btn"),ph=$(".post-header"),fi=$(".feature-image"),no=$(".notice"),ol=$(".overlay"),b=$("body"),ic=mn.find("i");$(document).ready((function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px"),isMobile=!0,window.matchMedia("only screen and (min-width: 900px)").matches&&(isMobile=!1),window.addEventListener("orientationchange",(function(){window.matchMedia("only screen and (min-width: 900px)").matches?(isMobile=!1,location.reload()):isMobile=!0}));let t=document.querySelector.bind(document),i=(t("#page"),t("#exit")),n=t(".page-header"),o=t(".sidebar"),s=t("#search-input"),l=t("#results-container"),r=t("#clear-search"),a=t(".menu"),c=t(".content");r.addEventListener("click",(function(e){for(s.focus(),s.value="",r.setAttribute("style","display: none !important;"),result=l.lastElementChild;result;)try{l.removeChild(result),result=l.lastElementChild}catch(e){break}})),i.addEventListener("click",(function(e){if(isMobile){let i=t("footer"),d=t(".loaded");d&&(document.body.prepend(o),document.body.prepend(a),n.removeAttribute("style"),i.removeAttribute("style"),d.removeAttribute("style"),s.blur(),e.target.style="",r.setAttribute("style","display: none !important;"),c.removeAttribute("style")),s.value&&l.setAttribute("style","display: none !important;")}})),s.addEventListener("focus",(function(e){if(isMobile){let e=t("footer"),d=t(".loaded");d&&($("html, body").animate({scrollTop:0},"fast",(function(){$(this).finish()})),d.setAttribute("style","display: none !important;"),e.setAttribute("style","display: none !important;"),n.setAttribute("style","display: none !important;"),document.body.removeChild(a),document.body.removeChild(o),i.style="height: 100vh; height: calc(var(--vh, 1vh) * 100);",c.setAttribute("style","height: 100vh; height: calc(var(--vh, 1vh) * 100); overflow-y: hidden;")),s.value&&(r.removeAttribute("style"),l.removeAttribute("style"))}})),s.addEventListener("input",(function(e){e.target.value?r.removeAttribute("style"):r.setAttribute("style","display: none !important;")})),$(".image-popup").each((function(){var e=$(this).children().attr("src");$(this).attr("href",e)})),$(".image-popup").css("cursor","zoom-in"),$(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,closeBtnInside:!1,fixedContentPos:!0,mainClass:"mfp-no-margins mfp-with-zoom",image:{verticalFit:!0,titleSrc:function(e){var t=e.el.attr("title");if(void 0!==t)return"<span style='font-size: 0.777777778rem'>"+t+"</span>"}},zoom:{enabled:!0,duration:300}}),$("img[usemap]").rwdImageMaps(),backToTop($(window).width()),mn.click((function(){draw()})),$("#results-container").on("DOMNodeInserted","li",(function(e){var t=$("#results-container li"),i=t.length,n=0,o=0;$("#search-input").on("keydown",(function(e){38!=e.keyCode&&40!=e.keyCode||e.preventDefault()})),$("#search-input").on("keyup",(function(e){var s=e.which;40==s?(1==++o&&0===n||(n++,n%=i),t.eq(n).css("background","#eee").siblings().removeAttr("style")):38==s?(-1==--n&&(n=i-1),t.eq(n).css("background","#eee").siblings().removeAttr("style")):13==s&&t.eq(n).children().get(0).click()})),$("#results-container li").on("mouseover",(function(e){$(this).css("cursor","pointer"),$(this).css("background","#eee").siblings().removeAttr("style"),n=$(this).index(),o++})),$("#results-container li").on("click",(function(e){$(this).children().get(0).click()}))}))})),$(window).resize(debounce((function(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px"),backToTop($(window).width()),"none"==sb.css("display")&&sb.removeAttr("style")}),500));